define("wixappsLayout",["lodash","coreUtils","zepto","experiment","warmupUtils","warmupUtilsLib","layout"],function(t,e,i,r,n,o,a){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1492)}({0:function(e,i){e.exports=t},1:function(t,i){t.exports=e},11:function(t,e){t.exports=o},1492:function(t,e,i){var r,n;r=[i(1493),i(1494),i(390),i(1495),i(1496),i(1497),i(1498),i(1499),i(1500),i(1501),i(1502),i(1503),i(1504),i(1505),i(1506),i(1508),i(1509),i(1510),i(1511),i(1512)],void 0===(n=function(){}.apply(e,r))||(t.exports=n)},1493:function(t,e,i){var r,n;r=[i(6),i(0),i(40)],void 0===(n=function(t,e,i){"use strict";function r(t){return parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10)}i.registerRequestToMeasureChildren("wysiwyg.viewer.components.SiteButton",[["label"]]),i.registerCustomMeasure("wysiwyg.viewer.components.SiteButton",function(e,i,n){var o,a=e+"label",s=t(n[e]),u=s.text(),c=s.data("should-use-flex"),p=window.getComputedStyle(n[e]),d=window.getComputedStyle(n[a]),l=p.minHeight;l&&parseInt(l,10)||(l=i.height[a]),i.minHeight[e]=parseInt(l,10),i.minWidth[e]=c?i.width[a]:i.width[a]+(o=d,parseInt(o.marginRight,10)+parseInt(o.marginLeft,10));var m=s.data("shouldPreventWidthMeasurement");m||(i.width[e]=u!==""+s.data("prevText")&&i.minWidth[e]<s.data("prevMinWidth")&&s.data("prevWidth")===s.data("prevMinWidth")&&i.width[a]>0?i.minWidth[e]:Math.max(i.width[e],i.minWidth[e])),i.height[e]=Math.max(i.height[e],i.minHeight[e]),i.custom[e]={align:s.attr("data-align"),margin:parseInt(s.attr("data-margin"),10),shouldPreventWidthMeasurement:m,shouldUseFlex:c,text:u},i.custom[a]={verticalPadding:r(d)};var h=i.width[a]+i.custom[e].margin>i.width[e],g=i.custom[e].align;"center"!==g&&(c?i.custom[a].margin=h?i.width[e]-i.width[a]:i.custom[e].margin:i.custom[a]["margin-"+g]=h?i.width[e]-i.width[a]:i.custom[e].margin)}),i.registerPatcher("wysiwyg.viewer.components.SiteButton",function(t,i,r){var n={height:r.height[t],"min-height":r.minHeight[t]};r.custom[t].shouldPreventWidthMeasurement||(n.width=r.width[t]),i.css(t,n);var o=t+"label",a=function(t,i,r){var n=void 0;if(r.custom[t].shouldUseFlex){n={};var o=r.custom[t].align;return"center"!==o&&r.custom[i].margin&&(n["margin-"+o]=r.custom[i].margin),n}return n={"line-height":r.height[t]-r.custom[i].verticalPadding+"px"},e.reduce(["margin-left","margin-right"],function(t,n){return e.isUndefined(r.custom[i][n])||(t[n]=r.custom[i][n]),t},n)}(t,o,r);i.css(o,a),i.data(t,{prevText:r.custom[t].text,prevMinWidth:r.minWidth[t],prevWidth:r.width[t]})})}.apply(e,r))||(t.exports=n)},1494:function(t,e,i){var r,n;r=[i(25),i(40)],void 0===(n=function(t,e){"use strict";var i=t.rootLayoutUtils.measureNodeImage;return e.registerCustomMeasure("core.components.Image",i),{measureNodeImage:i}}.apply(e,r))||(t.exports=n)},1495:function(t,e,i){var r,n;r=[i(0),i(25),i(390)],void 0===(n=function(t,e,i){"use strict";function r(t){return t.appPartName?t.id:t.dataItemRef.id}function n(t,e){return t+e.id+r(e)}function o(e,i){return!!i(t.has(e,"dataItemRef")?e.dataItemRef.appInnerID:e.appInnerID)}e.registerRequestToMeasureChildren("wixapps.integration.components.AppPartZoom",function(t,e,n,a){if(!o(n.dataItem,a.getClientSpecMapEntry))return null;var s=r(n.dataItem),u=n.dataItem.id;return[[u,s],[u,s,i.inlineContentId]]}),e.registerCustomMeasure("wixapps.integration.components.AppPartZoom",function(t,e,r,a,s){var u=s.getClientSpecMapEntry;if(!o(a.dataItem,u))return null;var c=n(t,a.dataItem);i.appPartMeasureFunction(c,e,r),e.custom[t]={marginTop:Math.max((e.height.screen-e.height[c])/2,0),height:e.height[c]}}),e.registerPatcher("wixapps.integration.components.AppPartZoom",function(t,e,i,r,a){if(o(r.dataItem,a.getClientSpecMapEntry)){var s=n(t,r.dataItem);a.isMobileView()&&(function(t,e,i,r){var n=Math.max(r.height[e],r.height.screen);i.css(t,{height:n})}(t,s,e,i),function(t,e,i){var r=t+"inlineContent",n=Math.max(i.height[t],i.height.screen);e.css(r,{height:n})}(s,e,i))}}),e.registerLayoutInnerCompsFirst("wixapps.integration.components.AppPartZoom",function(t,e,r,a,s){if(!o(t.dataItem,s.getClientSpecMapEntry))return null;var u=n(t.id,t.dataItem),c={id:u},p=window.document.getElementById(u),d={};return d[t.id]=!0,{needsAdditionalInnerLayout:i.preMeasureProxies(c,p,r,a,s),changedCompsMap:d}},function(t,e,r,a,s){if(!o(t.dataItem,s.getClientSpecMapEntry))return null;var u={id:n(t.id,t.dataItem)};return i.postPatchProxies(u,e,r,a,s)})}.apply(e,r))||(t.exports=n)},1496:function(t,e,i){var r,n;r=[i(40)],void 0===(n=function(t){"use strict";var e={VIMEO:{WIDTH:100,HEIGHT:100},DAILYMOTION:{WIDTH:100,HEIGHT:100},FACEBOOK:{WIDTH:100,HEIGHT:100},YOUTUBE:{WIDTH:200,HEIGHT:200}},i={WIDTH:10,HEIGHT:10};t.registerCustomMeasure("wysiwyg.viewer.components.Video",function(t,r,n,o){var a=e[o.dataItem.videoType]||i;r.minWidth[t]=a.WIDTH,r.minHeight[t]=a.HEIGHT,r.width[t]=Math.max(r.width[t],a.WIDTH),r.height[t]=Math.max(r.height[t],a.HEIGHT),r.top[t]=o.layout.y})}.apply(e,r))||(t.exports=n)},1497:function(t,e,i){var r,n;r=[i(40)],void 0===(n=function(t){"use strict";var e=2e3;t.registerCustomMeasure("wysiwyg.viewer.components.VerticalLine",function(t,i,r){i.height[t]=Math.min(i.height[t],e),i.width[t]=parseInt(r[t].style.width,10),i.left[t]=parseInt(r[t].style.left,10)})}.apply(e,r))||(t.exports=n)},1498:function(t,e,i){var r,n;r=[i(40),i(6),i(0)],void 0===(n=function(t,e,i){"use strict";function r(){var t=i.toArray(arguments);return window.document.getElementById(t.join(""))}t.registerRequestToMeasureDom("wysiwyg.viewer.components.MediaRichText"),t.registerCustomMeasure("wysiwyg.viewer.components.MediaRichText",function(n,o,a,s,u){var c=e(a[n]);o.custom[n]={prevWidth:c.data("width")};var p=u.getMediaRichTextInnerComponents(n),d=i.mapValues(p,"structureInfo");i.forEach(d,function(e){t.measureMediaRichTextInnerComponent(e,r,o,a,u,e.structure)})}),t.registerPatcher("wysiwyg.viewer.components.MediaRichText",function(e,r,n,o,a){var s=n.custom[e].prevWidth,u=parseInt(n.width[e],10),c=a.getMediaRichTextInnerComponents(e),p=i.mapValues(c,"structureInfo");return i.forEach(p,function(e){t.patchWithoutPositioning(e,r,n,a)}),s&&parseInt(s,10)===u?(r.css(e,{height:""}),!1):(r.data(e,{width:u}),!0)})}.apply(e,r))||(t.exports=n)},1499:function(t,e,i){var r,n;r=[i(6),i(0),i(25),i(9)],void 0===(n=function(t,e,i,r){"use strict";var n=i.specificComponents,o=n.balataLayout,a=n.screenWidthContainerLayout,s=r.mediaConsts.balataConsts.BALATA;function u(t,i){return e.get(t.dataItem,["pageBackgrounds",c(i),"ref"])}function c(t){return t?"mobile":"desktop"}var p="wixapps.integration.components.AppPage";i.registerRequestToMeasureChildren(p,[["inlineContent"]]),i.registerMeasureChildrenFirst(p,!0),i.registerCustomMeasure(p,function(i,n,c,p,d){var l=d.isMobileView,m=d.pageMinHeight;a.measureScreenWidthContainer(i,n,c),n.shrinkableContainer[i]=!0;var h=r.layoutUtils.getPageBottomChildEnd(n,c,l(),p)+n.containerHeightMargin[i],g=m,f=e.get(p,["propertiesItem",l()?"mobile":"desktop"]);if(f&&f.minHeight&&(g=f.minHeight),n.pageBottomByComponents[i]=h,n.minHeight[i]=g,n.height[i]=Math.max(g,h),n.width[i]=c[i].offsetWidth,c.POPUPS_ROOT=t("#POPUPS_ROOT"),p.dataItem.isPopup){var y={background:u(p,l())},v=e.clone(p);v.id+=s,v.designDataItem=y,n.top[i]=0,function(t,e,i,r){a.measureScreenWidthContainer(t,e,i),r.designDataItem.background&&o.measure(t,e,i,r,{left:Math.max(0,.5*(e.clientWidth-e.width.screen)),width:e.width.screen,height:e.innerHeight.screen})}(i,n,c,v)}}),i.registerRequestToMeasureDom(p)}.apply(e,r))||(t.exports=n)},1500:function(t,e,i){var r,n;r=[i(25),i(40)],void 0===(n=function(t,e){"use strict";var i=t.specificComponents.matrixGalleryLayout,r=i.measureMatrixGallery,n=i.getChildrenIdToMeasure,o=i.patchMatrixGallery;return e.registerRequestToMeasureDom("wysiwyg.viewer.components.MatrixGallery"),e.registerCustomMeasure("wysiwyg.viewer.components.MatrixGallery",r),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.MatrixGallery",n),e.registerPatcher("wysiwyg.viewer.components.MatrixGallery",o),{}}.apply(e,r))||(t.exports=n)},1501:function(t,e,i){var r,n;r=[i(25),i(40)],void 0===(n=function(t,e){"use strict";var i=t.specificComponents.paginatedGridGalleryLayout,r=i.patchPaginatedGridGallery,n=i.getChildrenIdToMeasure,o=i.customMeasurePaginatedGridGalleryLayout;return e.registerPatcher("wysiwyg.viewer.components.PaginatedGridGallery",r),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.PaginatedGridGallery",n),e.registerCustomMeasure("wysiwyg.viewer.components.PaginatedGridGallery",o),{}}.apply(e,r))||(t.exports=n)},1502:function(t,e,i){var r,n;r=[i(25),i(40)],void 0===(n=function(t,e){"use strict";var i=t.specificComponents.richtextLayout,r=i.richTextCompName,n=i.measureWRichText,o=i.patchWRichText;return e.registerRequestToMeasureDom(r),e.registerCustomMeasure(r,n),e.registerPatcher(r,o),{}}.apply(e,r))||(t.exports=n)},1503:function(t,e,i){var r,n;r=[i(25),i(40)],void 0===(n=function(t,e){"use strict";var i=t.specificComponents.slideShowLayout,r=i.measureSlideShow,n=i.getChildrenIdToMeasure,o=i.patchSlideShow;return e.registerRequestToMeasureDom("wysiwyg.viewer.components.SlideShowGallery"),e.registerCustomMeasure("wysiwyg.viewer.components.SlideShowGallery",r),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.SlideShowGallery",n),e.registerPatcher("wysiwyg.viewer.components.SlideShowGallery",o),{}}.apply(e,r))||(t.exports=n)},1504:function(t,e,i){var r,n;r=[i(25),i(40)],void 0===(n=function(t,e){"use strict";var i=t.specificComponents.sliderGalleryLayout,r=i.getChildrenIdToMeasure,n=i.measureSliderGalleryLayout,o=i.patchSliderGalleryLayout;return e.registerRequestToMeasureChildren("wysiwyg.viewer.components.SliderGallery",r),e.registerCustomMeasure("wysiwyg.viewer.components.SliderGallery",n),e.registerPatcher("wysiwyg.viewer.components.SliderGallery",o),{}}.apply(e,r))||(t.exports=n)},1505:function(t,e,i){var r,n;r=[i(25),i(40)],void 0===(n=function(t,e){"use strict";var i=t.specificComponents.wPhotoLayout,r=i.childImageComponent,n=i.patchNodePhoto,o=i.measurePhoto,a=t.specificComponents.imageLayout.patchNodeImage;return e.registerRequestToMeasureDom("wysiwyg.viewer.components.WPhoto"),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.WPhoto",[r,["link"]]),e.registerPatcher("wysiwyg.viewer.components.WPhoto",function(t,e,i,r,o){n(t,e,i,r,o);var s=window.document.querySelector("#"+t).querySelector("*[data-image-info]");if(s){var u=s.getAttribute("id"),c=JSON.parse(s.dataset.imageInfo);c.imageData.displayMode=c.displayMode,a(u,e,i,o,c.imageData,null,c.alignType)}}),e.registerCustomMeasure("wysiwyg.viewer.components.WPhoto",o),{}}.apply(e,r))||(t.exports=n)},1506:function(t,e,i){var r,n;r=[i(6),i(0),i(1),i(1507)],void 0===(n=function(t,e,i,r){"use strict";i.proxyLayoutRegistrar.registerCustomMeasure("PaginatedColumnGalleryProxy",function(i){var n=function(t){return e.map(t.childNodes,"clientHeight")}(i),o=function(e){return{columns:parseInt(t(e).attr("data-columns"),10),direction:t(e).attr("data-direction"),horizontalGap:parseInt(t(e).attr("data-horizontal-gap"),10),verticalGap:parseInt(t(e).attr("data-vertical-gap"),10)}}(i),a=i.childNodes,s=r.getMasonryRowsAndColumns(n,o.columns),u=Math.floor(i.clientWidth/o.columns),c={domManipulations:[],needsRelayout:!0},p=c.domManipulations,d=[];e.forEach(a,function(t,e){var i=s[e],n=i.row*o.verticalGap+i.topOffset,a=r.getColumnSidePadding(i.col,o.columns,o.horizontalGap,o.direction),c=i.col*u;d.push(n);var l={position:"absolute",top:n+"px","padding-right":a.right+"px","padding-left":a.left+"px"};"rtl"===o.direction?l.right=c+"px":l.left=c+"px",p[e]={node:t,funcName:"css",params:l}});var l=e(a).map(function(t,e){return d[e]+n[e]}).max();return p.push({node:i,funcName:"css",params:{height:l+"px"}}),c})}.apply(e,r))||(t.exports=n)},1507:function(t,e,i){var r,n;r=[i(0)],void 0===(n=function(t){"use strict";return{getColumnSidePadding:function(t,e,i,r){var n="rtl"===r,o=Math.floor(i/e),a=t*o,s=(e-1-t)*o;return{right:n?a:s,left:n?s:a}},getMasonryRowsAndColumns:function(e,i){for(var r=[],n=[],o=[],a=0;a<i;a++)n.push(0),o.push(0);for(var s=0;s<e.length;s++){var u=t.indexOf(n,t.min(n));r.push({col:u,row:o[u],topOffset:n[u]}),n[u]+=e[s],o[u]++}return r}}}.apply(e,r))||(t.exports=n)},1508:function(t,e,i){var r,n;r=[i(6),i(0),i(1)],void 0===(n=function(t,e,i){"use strict";i.proxyLayoutRegistrar.registerCustomMeasure("GalleryProxy",function(i,r,n){var o=i.id+"itemsContainer",a=t("#"+o),s=t(i),u=Number(s.attr("data-total-columns")),c=Number(s.attr("data-total-rows")),p=Number(s.attr("data-gap")),d=s.data("autoscale"),l=[],m=a.children();if(m.length){var h=m[0],g=h.offsetWidth,f=h.offsetHeight;l=e.map(m,function(e){var i=parseInt(t(e).attr("data-index"),10),r=Math.floor(i/u)%c,n=i%u;return{node:e,funcName:"css",params:{top:r*f+r*p,left:n*g+n*p}}})}return function(t,e,i){var r=i+"itemsContainer";e.height[r]=t.offsetHeight,e.width[r]=t.offsetWidth,e.height[i]=t.offsetHeight,e.width[i]=t.offsetWidth}(d?i.parentNode:i,n,i.id),{domManipulations:l}})}.apply(e,r))||(t.exports=n)},1509:function(t,e,i){var r,n;r=[i(6),i(0),i(1)],void 0===(n=function(t,e,i){"use strict";i.proxyLayoutRegistrar.registerCustomMeasure("Image",function(e,i,r){var n=t(e),o=e.firstChild.id,a={width:parseInt(n.attr("data-width"),10),height:parseInt(n.attr("data-height"),10),uri:n.attr("data-uri"),quality:i.getGlobalImageQuality()},s={displayMode:n.attr("data-display-mode")};return r.width[o]=e.offsetWidth,r.height[o]=e.offsetHeight,r.custom[o]={thisIsMyHeight:r.height[o]},{comp:{compType:"wysiwyg.viewer.components.WPhoto",compId:o,structureInfo:{dataItem:a,propertiesItem:s,layout:null,styleItem:null}},domManipulations:[]}})}.apply(e,r))||(t.exports=n)},1510:function(t,e,i){var r,n;r=[i(1)],void 0===(n=function(t){"use strict";var e=t.proxyLayoutRegistrar;function i(t,e,i){var r=t.id;return i.width[r]=t.offsetWidth,i.height[r]=t.offsetHeight,{comp:{compType:"wysiwyg.viewer.components.SiteButton",compId:r,structureInfo:{dataItem:null,propertiesItem:null,layout:null,styleItem:null}},domManipulations:[]}}e.registerCustomMeasure("Button",i),e.registerCustomMeasure("Button2",i)}.apply(e,r))||(t.exports=n)},1511:function(t,e,i){var r,n;r=[i(1)],void 0===(n=function(t){"use strict";t.proxyLayoutRegistrar.registerCustomMeasure("MediaLabel",function(t,e,i){var r=t.id;return i.width[r]=t.offsetWidth,i.height[r]=t.offsetHeight,{comp:{compType:"wysiwyg.viewer.components.MediaRichText",compId:r,structureInfo:{dataItem:null,propertiesItem:null,layout:null,styleItem:null}},domManipulations:[]}})}.apply(e,r))||(t.exports=n)},1512:function(t,e,i){var r,n;r=[i(6),i(1)],void 0===(n=function(t,e){"use strict";e.proxyLayoutRegistrar.registerCustomMeasure("SliderGallery",function(e,i,r){var n=t(e),o=e.firstChild.id,a={aspectRatio:n.attr("data-aspect-ratio"),imageMode:n.attr("data-image-mode")};return r.width[o]=e.offsetWidth,r.height[o]=e.offsetHeight,{comp:{compType:"wysiwyg.viewer.components.SliderGallery",compId:o,structureInfo:{dataItem:null,propertiesItem:a,layout:null,styleItem:null}},domManipulations:[]}})}.apply(e,r))||(t.exports=n)},25:function(t,e){t.exports=a},389:function(t,e,i){var r,n;r=[i(0),i(9),i(25),i(11)],void 0===(n=function(t,e,i,r){"use strict";var n=i.rootLayoutUtils,o=e.layoutUtils,a=r.style.unitize,s={},u={},c={},p={},d={};function l(e,i,r,n){var a=t.get(n,"layout.width",0);!function(t){return o.isHorizontallyStretched(t.layout)}(n)?!function(t){return c[t.componentType]}(n)&&t.get(n,"layout.width")?e.width[i]=a:e.width[i]=Math.max(r.offsetWidth,a):e.width[i]=r.offsetWidth}function m(e,i,r,n){var a=t.get(n,"layout.height",0),s=t.get(n,"layout.aspectRatio",0);s&&(a=s*e.width[i]),!function(t){return o.isVerticallyStretched(t.layout)}(n)?!function(t){return c[t.componentType]}(n)&&t.get(n,"layout.height")?e.height[i]=a:e.height[i]=Math.max(r.offsetHeight,a):e.height[i]=r.offsetHeight}function h(e,i,r,n){if(n.isDeadComp[e])!function(e,i,r,n){var o=t.get(n,"layout.width",0),a=t.get(n,"layout.height",0);e.width[i]=o,e.height[i]=a}(n,e,0,r);else{var o=window.getComputedStyle(i);!function(t,e,i,r){(function(t){return"fixed"===t.position})(r)&&(t.fixed[e]=!0,t.top[e]=i.offsetTop,t.left[e]=i.offsetLeft)}(n,e,i,o),function(t,e,i){var r=i.zIndex;"auto"!==r&&(r=parseFloat(r),isNaN(r)||(t.zIndex[e]=r))}(n,e,o),l(n,e,i,r),m(n,e,i,r),n.left[e]=function(e,i){var r=i.offsetLeft,n=t.get(e,"layout.x",0);return.5===Math.abs(n-r)?n:r}(r,i)}}function g(t){return t.getAttribute("data-dead-comp")}function f(t,e){if(!t)return!1;var i=e(t);return i||!1}return{patchWithoutPositioning:function(t,e,i,r){var n=t.id;!i.isDeadComp[n]&&s[t.type]&&s[t.type](n,e,i,t,r)},patchComponent:function(i,r,u,c,p){var d=i.id;!function(e,i,r,n){var s={};n&&(o.isVerticallyDocked(n)&&!o.isVerticallyStretchedToScreen(n)||(s.top=a(r.top[e])),o.isVerticallyStretched(n)&&!o.isVerticallyStretchedToScreen(n)||(s.height=a(r.height[e])),t.isEmpty(s)||i.css(e,s))}(d,r,c,i.layout),function(i,r,o,a,s){var u=a.layout;if(u&&e.dockUtils.isHorizontalDockToScreen(u)){var c=n.getRootWidth(s.getSiteWidth(),o,a.rootId),p=0-n.getRootLeft(s,o,a.rootId),d=e.dockUtils.getDockedStyleWithMargins(u,s.getPageMargins(),s.getScreenWidth(),c,p),l=t.pick(d,["left","width"]);o.left[i]=parseInt(l.left,10),r.css(i,l)}}(d,r,c,i,p),!c.isDeadComp[d]&&s[i.type]&&s[i.type](d,r,c,i,p)},measureComponent:function(t,e,i,r,n,o){var a=e.id,s=f(a,i);s&&(n[a]=s,h(a,s,t,r),g(s)?r.isDeadComp[a]=!0:(u[e.type]&&u[e.type](a,r,n,e,o),d[e.type]&&d[e.type](a,r,n,o,e)))},measureComponentChildren:function(e,i,r,n,o){var a=e.id,s=f(a,i);if(s&&!g(s)&&p[e.type]){var c=p[e.type];"function"==typeof c&&(c=c(a,n,e,o)),t.forEach(c,function(s){var c=t.isPlainObject(s),p=c?s.pathArray:s,d=i.apply(void 0,[a].concat(p))||i.apply(void 0,[a,"component"].concat(p));if(d){var l=p.join(""),m=a+l;n[m]=d,r.height[m]=d.offsetHeight,r.width[m]=d.offsetWidth,c&&u[s.type]&&u[s.type](m,r,n,e,o)}})}},isComponentDead:g,registerPatcher:function(t,e){s[t]=e},registerPatchers:function(e,i){s[e]=function(){var e=arguments;t.forEach(i,function(t){t.apply(null,e)})}},registerCustomMeasure:function(t,e){u[t]=e},registerRequestToMeasureDom:function(t){c[t]=!0},registerRequestToMeasureChildren:function(t,e){p[t]=e},registerAdditionalMeasureFunction:function(t,e){d[t]=e},maps:{classBasedMeasureChildren:p,classBasedCustomMeasures:u,classBasedPatchers:s}}}.apply(e,r))||(t.exports=n)},390:function(t,e,i){var r,n;r=[i(6),i(0),i(25),i(9),i(389),i(8)],void 0===(n=function(t,e,i,r,n){"use strict";var o=r.proxyLayoutRegistrar,a="inlineContent";function s(){var i=e.toArray(arguments),r=i.join(""),n=i.slice(1).join("");return t("#"+r)[0]||t("#"+n)[0]}function u(t,e,i,r){var o=t.compId,a=s(o);e[o]=a;var u=t.structureInfo;u.id=o,u.type=t.compType,function(t,e,i,r){n.measureComponentChildren(t,s,r,i,e)}(u,r,e,i),n.maps.classBasedCustomMeasures[t.compType]&&n.maps.classBasedCustomMeasures[t.compType](o,i,e,t.structureInfo,r)}function c(t,i,n){var o=t+a,s=e.get(n,[t,"attributes","data-state","value"]);r.stringUtils.isTrue(n[t].getAttribute("data-dynamic-height"))&&"loading"!==s&&(i.height[t]=i.height[o],i.minHeight[t]=i.height[o])}function p(i,r,n,s,c){var p=i.id,d=p+a,l=r.querySelector("#"+d);n.custom[p]={};var m=!1;e.forEach(o.getProxiesToMeasure(),function(i,r){var o=function(e,i){return t("[data-proxy-name="+e+"]",i)}(r,l);n.custom[p][r]=[],e.forEach(o,function(t,e){var o=i(t,c,n);n.custom[p][r][e]=o,o.comp&&u(o.comp,s,n,c),o.needsRelayout&&!n.custom[p][r][e].didRelayout&&(m=!0,n.custom[p][r][e].didRelayout=!0)})});var h={};return h[i.id]=!0,{needsAdditionalInnerLayout:m,changedCompsMap:h}}function d(i,r,a,s,u){var c=i.id;e(o.getProxiesToMeasure()).flatMap(function(t,e){return r.custom[c][e]}).forEach(function(i){var o;o=i.domManipulations,e.forEach(o,function(i){var r=t(i.node),n=i.funcName,o=e.isArray(i.params)?i.params:[i.params];e.isFunction(r[n])&&r[n].apply(r,o)});var c=i.comp;c&&n.patchComponent(c.structureInfo,a,s,r,u)})}return i.registerLayoutInnerCompsFirst("wixapps.integration.components.AppPart",p,d),i.registerLayoutInnerCompsFirst("wixapps.integration.components.AppPart2",p,d),i.registerRequestToMeasureChildren("wixapps.integration.components.AppPart",[[a]]),i.registerRequestToMeasureDom("wixapps.integration.components.AppPart"),i.registerCustomMeasure("wixapps.integration.components.AppPart",c),i.registerRequestToMeasureChildren("wixapps.integration.components.AppPart2",[[a]]),i.registerRequestToMeasureDom("wixapps.integration.components.AppPart2"),i.registerCustomMeasure("wixapps.integration.components.AppPart2",c),{appPartMeasureFunction:c,inlineContentId:a,preMeasureProxies:p,postPatchProxies:d}}.apply(e,r))||(t.exports=n)},40:function(t,e,i){var r,n;r=[i(25),i(389)],void 0===(n=function(t,e){"use strict";return{registerRequestToMeasureDom:function(e){t.singleCompLayout.registerRequestToMeasureDom(e)},registerRequestToMeasureChildren:function(t,i){e.registerRequestToMeasureChildren(t,i)},registerCustomMeasure:function(t,i){e.registerCustomMeasure(t,i)},registerPatcher:function(t,i){e.registerPatcher(t,i)},measureMediaRichTextInnerComponent:function(t,i,r,n,o,a){e.measureComponentChildren(t,i,r,n,o),e.measureComponent(a,t,i,r,n,o)},patchWithoutPositioning:e.patchWithoutPositioning}}.apply(e,r))||(t.exports=n)},6:function(t,e){t.exports=i},8:function(t,e){t.exports=r},9:function(t,e){t.exports=n}})});
//# sourceMappingURL=wixappsLayout.min.js.map